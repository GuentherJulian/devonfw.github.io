<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SonarQube Configuration</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" integrity="sha256-M/Awbb/BYh+Rh0aGjpQid26p1b2OBsrk2k9yAvQxPV0=" crossorigin="anonymous"></script>
<!-- JQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/styles/googlecode.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/lang/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body id="dsf-configure-sonarqube.asciidoc" class="article">
<div id="website-navbar" class="website-navbar">
<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">RESOURCES</a></p>
</li>
<li>
<p><a href="/website/pages/explore/explore.html">EXPLORE</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">DOCS</a></p>
</li>
<li>
<p><a href="/website/pages/community/community.html">COMMUNITY</a></p>
</li>
</ul>

<form class="form-inline my-2 my-lg-0">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-brand text-white mr-auto ml-3" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>To use SonarQube you need to use a token to connect, and to know the results of the analysis you need a webhook. Also, you need to install and configure SonarQube in Jenkins.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dsf-configure-sonarqube.asciidoc_generate-user-token">Generate user token</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To generate the user token, go to your account clicking in the left icon on the top menu bar.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/configuration/sonarqube-administration.png" alt="sonarqube administration">
</div>
</div>
<div class="paragraph">
<p>Go to security tab and generate the token.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/configuration/sonarqube-token.png" alt="sonarqube token">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dsf-configure-sonarqube.asciidoc_webhook">Webhook</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you execute our SonarQube scanner in our pipeline job, you need to ask SonarQube if the quality gate has been passed. To do it you need to create a webhook.</p>
</div>
<div class="paragraph">
<p>Go to administration clicking the option on the top bar menu and select the tab for Configuration.</p>
</div>
<div class="paragraph">
<p>Then search in the left menu to go to webhook section and create your webhook.</p>
</div>
<div class="paragraph">
<p>An example for Production Line:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/configuration/sonarqube-webhook.png" alt="sonarqube webhook">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dsf-configure-sonarqube.asciidoc_jenkins-integration">Jenkins integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use SonarQube in our pipelines you need to configure Jenkins to integrate SonarQube.</p>
</div>
<div class="sect2">
<h3 id="dsf-configure-sonarqube.asciidoc_sonarqube-scanner">SonarQube Scanner</h3>
<div class="paragraph">
<p>First, you need to configure the scanner. Go to Manage Jenkins clicking on left menu and enter in <strong><em>Global Tool Configuration</em></strong>.</p>
</div>
<div class="paragraph">
<p>Go to SonarQube Scanner section and add a new SonarQube scanner like this.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/configuration/sonarqube-jenkins-scanner.png" alt="sonarqube jenkins scanner">
</div>
</div>
</div>
<div class="sect2">
<h3 id="dsf-configure-sonarqube.asciidoc_sonarqube-server">SonarQube Server</h3>
<div class="paragraph">
<p>Now you need to configure where is our SonarQube server using the user token that you create before. Go to Manage Jenkins clicking on left menu and enter in <strong><em>Configure System</em></strong>.</p>
</div>
<div class="paragraph">
<p>For example, in Production Line the server is the next:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/configuration/sonarqube-jenkins-server.png" alt="sonarqube jenkins server">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
Remember, the token was created at the beginning  of this SonarQube configuration.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dsf-configure-sonarqube.asciidoc_sonarqube-configuration">SonarQube configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now is time to configure your sonar in order to check correctly the quality of the project. To do it, please follow the official documentation about our plugins and Quality Gates and Profiles <a href="https://github.com/devonfw/sonar-devon4j-plugin">here</a>.</p>
</div>
<div class="sect2">
<h3 id="dsf-configure-sonarqube.asciidoc_how-to-ignore-files">How to ignore files</h3>
<div class="paragraph">
<p>Normaly the developers needs to ignore some files from Sonar analysis. To do it, they must add the next line as a parameter of the sonar execution to their Jenkinsfile in the SonarQube code analysis step.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-Dsonar.exclusions='**/*.spec.ts, **/*.model.ts, **/*mock.ts'</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#/index.html">About defonfw</a></p>
</li>
<li>
<p><a href="#/index.html">Features</a></p>
</li>
<li>
<p><a href="#/index.html">Stack technology</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#/index.html">Getting started</a></p>
</li>
<li>
<p><a href="#/index.html">Architecture</a></p>
</li>
<li>
<p><a href="#/index.html">Resources</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#/index.html">User guide</a></p>
</li>
<li>
<p><a href="#/index.html">Releases information</a></p>
</li>
<li>
<p><a href="#/index.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="#/index.html">Contributors</a></p>
</li>
<li>
<p><a href="#/index.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="#/index.html">Terms</a></p>
</li>
<li>
<p><a href="#/index.html">Privacy</a></p>
</li>
<li>
<p><a href="#/index.html">License</a></p>
</li>
<li>
<p><a href="#/index.html">Support</a></p>
</li>
</ul>
</div>
</div>
    <script type="module">
      import { UtilsModule } from '/website/shared/utils.js';
      import { HeaderModule } from '/website/components/header/header.js';

      let searchData = { index: null, documents: null };
      UtilsModule.loadIndex(searchData);

      $(window).on('load', function() {
        const queryFun = () => {
          HeaderModule.queryFunction(searchData);
        };

        HeaderModule.searchOnClick(queryFun);
      });
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
<div class="footnote">

Last updated 2019-10-30 13:15:57 UTC
</div>
</div>
</div>
</body>
</html>